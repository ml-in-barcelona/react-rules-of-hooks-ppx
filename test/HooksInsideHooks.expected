module GQL =
  struct
    let useMutation ?(redirectSuccess= None)  ?(redirectCancel= None)
      ?(onboarding= false)  () =
      let (mutation,_,_) = ApolloHooks.useMutation ~variables definition in
      fun ()  ->
        (((((mutation ()) |. Utils.Promise.map) fst) |.
            Utils.Apollo.Mutation.trackResult)
           ~analyticsMessage:(match onboarding with
                              | true  ->
                                  (("Clicked Pro Plan")[@reason.raw_literal
                                                         "Clicked Pro Plan"])
                              | false  ->
                                  (("Clicked Manage Billing")[@reason.raw_literal
                                                               "Clicked Manage Billing"]))
           ())
          |. ignore
  end